apply plugin: 'kotlin'
apply plugin: 'net.corda.plugins.cordapp'
apply plugin: 'net.corda.plugins.quasar-utils'
apply plugin: 'net.corda.plugins.publish-utils'
apply plugin: 'com.jfrog.artifactory'

sourceSets {
    integrationTest {
        kotlin {
            compileClasspath += main.output + test.output
            runtimeClasspath += main.output + test.output
            srcDir file('src/integration-test/kotlin')
        }
    }
}

dependencies {
    cordaCompile project(":node") // Not node-api so we get metrics.
    cordapp project(":tools:notary-healthcheck:contract")
    testCompile project(":node-driver")
}

configurations {
    integrationTestCompile.extendsFrom testCompile
    integrationTestRuntime.extendsFrom testRuntime
}

cordapp {
    info {
        vendor "R3"
        version corda_release_version
        targetPlatformVersion corda_platform_version.toInteger()
        minimumPlatformVersion 1
    }
}

publish {
    name "corda-notary-healthcheck-cordapp"
}
