/*
 * R3 Proprietary and Confidential
 *
 * Copyright (c) 2018 R3 Limited.  All rights reserved.
 *
 * The intellectual and technical concepts contained herein are proprietary to R3 and its suppliers and are protected by trade secret law.
 *
 * Distribution of this file or any portion thereof via any medium without the express permission of R3 is strictly prohibited.
 */

buildscript {
    Properties constants = new Properties()
    file("../constants.properties").withInputStream { constants.load(it) }

    ext {
        guava_version = constants.getProperty("guavaVersion")
        assertj_version = '3.9.1'
        junit_version = '4.12'
    }
}

repositories {
    mavenLocal()
    mavenCentral()
}

allprojects {
    tasks.withType(Test) {
        // Prevent the project from creating temporary files outside of the build directory.
        systemProperty 'java.io.tmpdir', buildDir.absolutePath
    }
}

configurations {
    runtime
}

dependencies {
    // Add the top-level projects ONLY to the host project.
    runtime project.childProjects.collect { n, p ->
        project(p.path)
    }
}
